plugins {
    id "org.openjfx.javafxplugin" version "0.0.14"
}

dependencies {
    api project(":codion-common-core")
    api project(":codion-common-db")
    api project(":codion-common-model")
    api project(":codion-common-i18n")

    api project(":codion-framework-domain")
    api project(":codion-framework-db-core")
    api project(":codion-framework-model")
    api project(":codion-framework-i18n")

    testImplementation project(":codion-framework-db-local")
    testImplementation project(":codion-framework-domain-test")
    testImplementation project(":codion-framework-model-test")

    implementation(libs.json)

    implementation(libs.slf4j.api)

    testImplementation "org.testfx:testfx-core:4.0.16-alpha"
    testImplementation "org.testfx:testfx-junit5:4.0.16-alpha"

    testRuntimeOnly project(":codion-dbms-h2database")
    testRuntimeOnly(libs.h2)
}

javafx {
    version = "18"
    modules = ["javafx.base", "javafx.graphics", "javafx.controls", "javafx.swing"]
}

compileTestJava {
    options.compilerArgs = [
            "--add-modules", "is.codion.framework.domain.test,is.codion.framework.model.test,is.codion.framework.db.local",
            "--add-reads", "is.codion.javafx.framework=is.codion.framework.domain.test,is.codion.framework.model.test,is.codion.framework.db.local"
    ]
}

test {
    jvmArgs = [
            "--add-modules", "is.codion.framework.domain.test,is.codion.framework.model.test,is.codion.framework.db.local",
            "--add-reads", "is.codion.javafx.framework=is.codion.framework.domain.test,is.codion.framework.model.test,is.codion.framework.db.local"
    ]
}