<project name="jminor-demo" default="build" basedir="." xmlns:ivy="antlib:org.apache.ivy.ant" xmlns:jacoco="antlib:org.jacoco.ant">

  <property name="project.root" value="../../"/>
  <property name="junit.db.initScript" value="src/main/sql/create_schema.sql"/>
  <property file="${project.root}/core/build.properties"/>
  <import file="../build-common.xml"/>

  <target name="dist" depends="jminor-common.dist">
    <jar jarfile="dist/${ant.project.name}-domain.jar" basedir="build/main"
         includes="org/jminor/framework/demos/${ant.project.name}/domain/**/*, org/jminor/framework/demos/${ant.project.name}/server/**/*"
         manifest="${build.main}/META-INF/MANIFEST.MF"/>

    <!--create anothor domain jar file without annotations using the purgeannotationrefs library-->
    <!--<taskdef resource="org/dyndns/fichtner/purgeannotationrefs/tasks/antlib.xml"-->
             <!--classpathref="lib.ant.util"/>-->
    <!--<purgeannotationrefs>-->
      <!--<src>-->
        <!--<fileset dir="build/main">-->
          <!--<filename name="org/jminor/framework/demos/${ant.project.name}/domain/**/*.class" />-->
        <!--</fileset>-->
      <!--</src>-->
      <!--<remove regexp="org.jminor.framework.domain.Entity.Data" />-->
      <!--<remove regexp="org.jminor.framework.domain.Property.Data" />-->
    <!--</purgeannotationrefs>-->
    <!--<jar jarfile="dist/${ant.project.name}-domain-remote.jar" basedir="build/main"-->
         <!--includes="org/jminor/framework/demos/${ant.project.name}/domain/**/*"-->
         <!--manifest="${build.main}/META-INF/MANIFEST.MF"/>-->
  </target>
</project>