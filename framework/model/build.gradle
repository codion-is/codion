dependencies {
    api project(':org.jminor.common.core')
    api project(':org.jminor.common.db')
    api project(':org.jminor.common.model')

    api project(':org.jminor.framework.db.core')
    runtimeOnly project(':org.jminor.framework.db.local')
    runtimeOnly project(':org.jminor.framework.db.remote')

    testImplementation project(':org.jminor.framework.db.local')

    runtimeOnly "org.json:json:${jsonVersion}"

    testRuntime "com.h2database:h2:${h2Version}"
}

//base unit test classes that implementation modules (swing/fx) can depend on
task testJar(type: Jar, dependsOn: testClasses) {
    baseName = project.name.replace("org.", "").replace(".", "-")
    classifier 'tests'
    from sourceSets.test.output
    include('org/jminor/framework/model/Abstract**', 'org/jminor/framework/model/TestDomain**') 
}
configurations {
    testArtifact.extendsFrom testRuntime
}
artifacts {
    testArtifact testJar
}